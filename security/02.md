---
title: XSS与CSRF
categories:
 - security
---

### XSS(跨域脚本攻击)

> 不需要做任何的登录认证，它会通过合法的操作（比如在url中输入、在表单中输入），向你的页面注入脚本

- 转义 
  
对用户输入的字符转换成转义字符

### CSRF(跨站请求伪造)

1、受害者登录a.com，并保留了登录凭证（Cookie）。

2、攻击者引诱受害者访问了b.com。

3、b.com 向 a.com 发送了一个请求：a.com/act=xx。浏览器会默认携带a.com的Cookie。

4、a.com接收到请求后，对请求进行验证，并确认是受害者的凭证，误以为是受害者自己发送的请求。

5、a.com以受害者的名义执行了act=xx。

6、攻击完成，攻击者在受害者不知情的情况下，冒充受害者，让a.com执行了自己定义的操作

- token验证
  
攻击者可以伪造用户的请求，该请求中所有的用户验证信息都存在于cookie中，因此攻击者可以在不知道用户验证信息的情况下直接利用用户的cookie来通过安全验证。

解决：在请求中放入攻击者所不能伪造的信息:服务器发送给客户端一个token，客户端提交的表单中带着这个token，攻击者因无法获取到token，也就无法伪造请求。
